
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>UltradrivePi</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="bootstrap-theme.min.css">
  </head>

  <body>

    <br/>

    <div class="container">
      <div class="row">

        <div class="col-xs-1 col-sm-1 col-md-1"></div>

        <div class="col-xs-1 col-sm-1 col-md-1 text-center nopadding">
          <span class="label label-default">A</span><br/><br/>
          <input type="range" id="1-2" oninput="showValue(0x01, 0x02, this.value)" min="0" max="300" step="1" style="-webkit-appearance: slider-vertical;"><br/>
          <span id="txt-1-2" class="label label-info col-xs-12">?.? db</span><br/>
          <span class="label label-default col-xs-12">Clip</span><br/>
          <span class="label label-default col-xs-12">Limit</span><br/>
          <button id="1-3" type="button" class="btn btn-default btn-xs" onclick="toggleValue(0x01,0x03)">
            <span id="txt-1-3" class="glyphicon glyphicon-volume-up" aria-hidden="true"></span> Mute
          </button>
        </div>
        <div class="col-xs-1 col-sm-1 col-md-1 text-center nopadding">
          <span class="label label-default">B</span><br/><br/>
          <input type="range" id="2-2" oninput="showValue(0x02, 0x02, this.value)" min="0" max="300" step="1" style="-webkit-appearance: slider-vertical;"><br/>
          <span id="txt-2-2" class="label label-info col-xs-12">?.? db</span><br/>
          <span class="label label-default col-xs-12">Clip</span><br/>
          <span class="label label-default col-xs-12">Limit</span><br/>
          <button id="2-3" type="button" class="btn btn-default btn-xs" onclick="toggleValue(0x02,0x03)">
            <span id="txt-2-3" class="glyphicon glyphicon-volume-up" aria-hidden="true"></span> Mute
          </button>
        </div>
        <div class="col-xs-1 col-sm-1 col-md-1 text-center nopadding">
          <span class="label label-default">C</span><br/><br/>
          <input type="range" id="3-2" oninput="showValue(0x03, 0x02, this.value)" min="0" max="300" step="1" style="-webkit-appearance: slider-vertical;"><br/>
          <span id="txt-3-2" class="label label-info col-xs-12">?.? db</span><br/>
          <span class="label label-default col-xs-12">Clip</span><br/>
          <span class="label label-default col-xs-12">Limit</span><br/>
          <button id="3-3" type="button" class="btn btn-default btn-xs" onclick="toggleValue(0x03,0x03)">
            <span id="txt-3-3" class="glyphicon glyphicon-volume-off" aria-hidden="true"></span> Mute
          </button>
        </div>

        <div class="col-xs-1 col-sm-1 col-md-1"></div>

        <div class="col-xs-1 col-sm-1 col-md-1 text-center nopadding">
          <span class="label label-default">1</span><br/><br/>
          <input type="range" id="5-2" oninput="showValue(0x05, 0x02, this.value)" min="0" max="300" step="1" style="-webkit-appearance: slider-vertical;"><br/>
          <span id="txt-5-2" class="label label-info col-xs-12">?.? db</span><br/>
          <span class="label label-default col-xs-12">Clip</span><br/>
          <span class="label label-default col-xs-12">Limit</span><br/>
          <button id="5-3" type="button" class="btn btn-default btn-xs" onclick="toggleValue(0x05,0x03)">
            <span id="txt-5-3" class="glyphicon glyphicon-volume-off" aria-hidden="true"></span> Mute
          </button>
        </div>
        <div class="col-xs-1 col-sm-1 col-md-1 text-center nopadding">
          <span class="label label-default">2</span><br/><br/>
          <input type="range" id="6-2" oninput="showValue(0x06, 0x02, this.value)" min="0" max="300" step="1" style="-webkit-appearance: slider-vertical;"><br/>
          <span id="txt-6-2" class="label label-info col-xs-12">?.? db</span><br/>
          <span class="label label-default col-xs-12">Clip</span><br/>
          <span class="label label-default col-xs-12">Limit</span><br/>
          <button id="6-3" type="button" class="btn btn-default btn-xs" onclick="toggleValue(0x06,0x03)">
            <span id="txt-6-3" class="glyphicon glyphicon-volume-off" aria-hidden="true"></span> Mute
          </button>
        </div>
        <div class="col-xs-1 col-sm-1 col-md-1 text-center nopadding">
          <span class="label label-default">3</span><br/><br/>
          <input type="range" id="7-2" oninput="showValue(0x07, 0x02, this.value)" min="0" max="300" step="1" style="-webkit-appearance: slider-vertical;"><br/>
          <span id="txt-7-2" class="label label-info col-xs-12">?.? db</span><br/>
          <span class="label label-default col-xs-12">Clip</span><br/>
          <span class="label label-default col-xs-12">Limit</span><br/>
          <button id="7-3" type="button" class="btn btn-default btn-xs" onclick="toggleValue(0x07,0x03)">
            <span id="txt-7-3" class="glyphicon glyphicon-volume-off" aria-hidden="true"></span> Mute
          </button>
        </div>
        <div class="col-xs-1 col-sm-1 col-md-1 text-center nopadding">
          <span class="label label-default">4</span><br/><br/>
          <input type="range" id="8-2" oninput="showValue(0x08, 0x02, this.value)" min="0" max="300" step="1" style="-webkit-appearance: slider-vertical;"><br/>
          <span id="txt-8-2" class="label label-info col-xs-12">?.? db</span><br/>
          <span class="label label-default col-xs-12">Clip</span><br/>
          <span class="label label-default col-xs-12">Limit</span><br/>
          <button id="8-3" type="button" class="btn btn-default btn-xs" onclick="toggleValue(0x08,0x03)">
            <span id="txt-8-3" class="glyphicon glyphicon-volume-off" aria-hidden="true"></span> Mute
          </button>
        </div>
        <div class="col-xs-1 col-sm-1 col-md-1 text-center nopadding">
          <span class="label label-default">5</span><br/><br/>
          <input type="range" id="9-2" oninput="showValue(0x09, 0x02, this.value)" min="0" max="300" step="1" style="-webkit-appearance: slider-vertical;"><br/>
          <span id="txt-9-2" class="label label-info col-xs-12">?.? db</span><br/>
          <span class="label label-default col-xs-12">Clip</span><br/>
          <span class="label label-default col-xs-12">Limit</span><br/>
          <button id="9-3" type="button" class="btn btn-default btn-xs" onclick="toggleValue(0x09,0x03)">
            <span id="txt-9-3" class="glyphicon glyphicon-volume-off" aria-hidden="true"></span> Mute
          </button>
        </div>
        <div class="col-xs-1 col-sm-1 col-md-1 text-center nopadding">
          <span class="label label-default">6</span><br/><br/>
          <input type="range" id="10-2" oninput="showValue(0x0A, 0x02, this.value)" min="0" max="300" step="1" style="-webkit-appearance: slider-vertical;"><br/>
          <span id="txt-10-2" class="label label-info col-xs-12">?.? db</span><br/>
          <span class="label label-default col-xs-12">Clip</span><br/>
          <span class="label label-default col-xs-12">Limit</span><br/>
          <button id="10-3" type="button" class="btn btn-default btn-xs" onclick="toggleValue(0x0A,0x03)">
            <span id="txt-10-3" class="glyphicon glyphicon-volume-off" aria-hidden="true"></span> Mute
          </button>
        </div>

        <div class="col-xs-1 col-sm-1 col-md-1"></div>

      </div>
    </div>


    <script src="jquery.min.js"></script>
    <script src="bootstrap.min.js"></script>
    <script src="socket.io/socket.io.js"></script>
    <script type="text/javascript">
                var socket = io.connect();

                socket.on('update', function (channel, param, data) {
                   if(param==0x03 && channel!=0x00 && data==0x01)
                   {
                      $("#"+channel+"-"+param).removeClass("btn-default").addClass("btn-danger");
                      $("#txt-"+channel+"-"+param).removeClass("glyphicon-volume-up").addClass("glyphicon-volume-off")
                   }
                   if(param==0x03 && channel!=0x00 && data==0x00)
                   {
                      $("#"+channel+"-"+param).removeClass("btn-danger").addClass("btn-default");
                      $("#txt-"+channel+"-"+param).removeClass("glyphicon-volume-off").addClass("glyphicon-volume-up");
                   }
                   document.getElementById(channel + "-" + param).value = data;
                   setLabel(channel, param, data);
                });

                function showValue(channel, param, newValue)
                {
                   socket.emit('update', channel, param, newValue);
                   setLabel(channel, param, newValue);
                }

                function setLabel(channel, param, newValue)
                {
                   if(param==0x02 && channel!=0x00) { newValue = (Math.round(newValue-150)/10).toFixed(1) + " db"; }
                   if(param==0x03 && channel!=0x00) { return; }
                   document.getElementById("txt-" + channel + "-" + param).innerHTML = newValue;
                }

                function toggleValue(channel, param)
                {
                   if($("#"+channel+"-"+param).hasClass("btn-default"))
                   {
                      socket.emit('update', channel, param, 0x01);
                      $("#"+channel+"-"+param).removeClass("btn-default").addClass("btn-danger");
                      $("#txt-"+channel+"-"+param).removeClass("glyphicon-volume-up").addClass("glyphicon-volume-off");
                   }
                   else
                   {
                      socket.emit('update', channel, param, 0x00);
                      $("#"+channel+"-"+param).removeClass("btn-danger").addClass("btn-default");
                      $("#txt-"+channel+"-"+param).removeClass("glyphicon-volume-off").addClass("glyphicon-volume-up");
                   }
                }
    </script>

  </body>
</html>

